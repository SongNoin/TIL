## 브라우저 렌더링 원리

- 우선 브라우저에는 자바스크립트 엔진이 있다.
  - 자바스크립트 엔진이란 자바스크립트 코드를 바로 실행하는 인터프리터이고 런타임 시 한 줄 씩 실행한다
  - 크롬, 노드, 엣지 - V8 / 사파리 - JavaScript Core / FireFox - SpiderMonkey
- 렌더링은 HTML, CSS, JS 로 작성된 문서를 파싱하여 브라우저에 시각적으로 출력하는 것을 말한다.
  - 파싱은 데이터를 분해 분석하여 원하는 형태로 조립하고 다시 빼내는 프로그램을 말한다.
    - 브라우저에서 파싱은 자바스크립트 엔진이 실제로 행할 수 있게 텍스트 문서의 문자열을 토큰으로 분해하고, 토큰에 문법적 의미와 구조를 반영하여 자료구조인 파스 트리를 생성하는 일련의 과정을 말한다.
- 렌더링 과정
  1. 브라우저는 HTML, CSS, 자바스크립트, 이미지, 폰트 파일 등 렌더링에 필요한 리소스를 요청하고 서버로부터 응답을 받는다
  2. 브라우저의 렌더링 엔진은 서버로부터 응답된 HTML과 CSS를 파싱하여 DOM과 CSSOM 을 생성하고 이들을 결합하여 렌더 트리를 생성한다
  3. 브라우저의 자바스크립트 엔진은 서버로부터 응답된 자바스크립트를 파싱하여 AST를 생성하고 바이트코드로 변환하여 실행한다. 이때 자바스크립트는 DOM API를 통해 DOM이나 CSSOM을 변경할 수 있다. 변경된 DOM과 CSSDOM은 다시 렌더 트리로 결합된다.
  4. 렌더 트리를 기반으로 HTML요소의 레이아웃(위치와 크기)을 계산하고 브라우저 화면에 HTML요소를 페인팅한다.
